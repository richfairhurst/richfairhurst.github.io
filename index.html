<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>reboot</title>
  <style>
    :root {
      --bg: #fafafa;  /* gentle white */
      --fg: #222;     /* soft near-black */
    }
    html, body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      color: var(--fg);
    }
    body {
      display: grid;
      place-items: center;
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono",
        "Courier New", monospace;
    }
    .type {
      font-size: clamp(20px, 6vw, 48px);
      letter-spacing: 0.02em;
      white-space: pre;
      position: relative;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .type.visible {
      opacity: 1;
    }
    .type::after {
      content: " ";
      display: inline-block;
      width: 0.6ch;
      height: 0.85em;
      vertical-align: -0.05em;
      border-left: 2px solid var(--fg);
      margin-left: 2px;
      animation: blink 1s steps(1, end) infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }
    @media (prefers-reduced-motion: reduce) {
      .type::after { animation: none; }
    }
    @media (forced-colors: active) {
      :root { --bg: Canvas; --fg: CanvasText; }
      .type::after { border-left: 2px solid CanvasText; }
    }
  </style>
</head>
<body>
  <div id="msg" class="type" aria-live="polite"></div>

  <script>
    (function () {
      var el = document.getElementById('msg');
      var text = 'reboot in progress';
      var typeDelay = 75;     // ms per char typing
      var eraseDelay = 40;    // faster erase
      var pause = 1000;       // pause after typing/erasing

      function typeWrite(str, cb) {
        el.classList.add('visible'); // fade in
        let i = 0;
        function next() {
          if (i <= str.length) {
            el.textContent = str.slice(0, i++);
            setTimeout(next, typeDelay);
          } else {
            setTimeout(cb, pause);
          }
        }
        next();
      }

      function erase(cb) {
        let i = el.textContent.length;
        function next() {
          if (i >= 0) {
            el.textContent = el.textContent.slice(0, i--);
            setTimeout(next, eraseDelay);
          } else {
            el.classList.remove('visible'); // fade out
            setTimeout(cb, pause);
          }
        }
        next();
      }

      function loop() {
        typeWrite(text, function () {
          erase(loop);
        });
      }

      loop();
    })();
  </script>
</body>
</html>
